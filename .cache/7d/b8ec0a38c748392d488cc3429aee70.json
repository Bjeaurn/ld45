{"id":"../node_modules/gine/dist/gine/mouse.js","dependencies":[{"name":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/mouse.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/bjeaurn/Development/ld45/package.json","includedInParent":true,"mtime":1570228205000},{"name":"/Users/bjeaurn/Development/ld45/node_modules/gine/package.json","includedInParent":true,"mtime":1570228202000},{"name":"rxjs","loc":{"line":3,"column":21},"parent":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/mouse.js","resolved":"/Users/bjeaurn/Development/ld45/node_modules/rxjs/_esm5/index.js"},{"name":"rxjs/operators","loc":{"line":4,"column":26},"parent":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/mouse.js","resolved":"/Users/bjeaurn/Development/ld45/node_modules/rxjs/_esm5/operators/index.js"},{"name":"./core","loc":{"line":5,"column":21},"parent":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/mouse.js","resolved":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/core.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar core_1 = require(\"./core\");\nvar Mouse = (function () {\n    function Mouse() {\n        var _this = this;\n        this.isMouseDown = false;\n        var mousedown = rxjs_1.fromEvent(core_1.Gine.CONFIG.canvas, 'mousedown').pipe(operators_1.tap(function (ev) {\n            _this.lastClickPosition = _this.getMousePosition(ev);\n            _this.isMouseDown = true;\n        }));\n        var mouseup = rxjs_1.fromEvent(core_1.Gine.CONFIG.canvas, 'mouseup').pipe(operators_1.tap(function () {\n            _this.isMouseDown = false;\n        }));\n        var mousemove = rxjs_1.fromEvent(core_1.Gine.CONFIG.canvas, 'mousemove');\n        this.mouse$ = rxjs_1.merge(mousedown, mouseup, mousemove).pipe(operators_1.map(function (ev) {\n            _this.lastPosition = _this.getMousePosition(ev);\n            return _this.lastPosition;\n        }), operators_1.share());\n    }\n    Mouse.prototype.lastClick = function () {\n        return this.lastClickPosition;\n    };\n    Mouse.prototype.getPosition = function () {\n        return this.lastPosition;\n    };\n    Mouse.prototype.getMousePosition = function (ev) {\n        return {\n            x: Math.round(ev.clientX / core_1.Gine.canvas.scale),\n            y: Math.round(ev.clientY / core_1.Gine.canvas.scale),\n            button: ev.button,\n            type: ev.type,\n        };\n    };\n    return Mouse;\n}());\nexports.Mouse = Mouse;\n"},"sourceMaps":{"js":{"version":3,"file":"mouse.js","sourceRoot":"","sources":["../../src/gine/mouse.ts"],"names":[],"mappings":";;AAAA,6BAAmD;AAEnD,4CAAgD;AAEhD,+BAA6B;AAU7B;IAMI;QAAA,iBA8BC;QAlCM,gBAAW,GAAY,KAAK,CAAA;QAK/B,IAAM,SAAS,GAAG,gBAAS,CACvB,WAAI,CAAC,MAAM,CAAC,MAAqC,EACjD,WAAW,CACd,CAAC,IAAI,CACF,eAAG,CAAC,UAAA,EAAE;YACF,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAA;YAClD,KAAI,CAAC,WAAW,GAAG,IAAI,CAAA;QAC3B,CAAC,CAAC,CACL,CAAA;QAED,IAAM,OAAO,GAAG,gBAAS,CACrB,WAAI,CAAC,MAAM,CAAC,MAAqC,EACjD,SAAS,CACZ,CAAC,IAAI,CACF,eAAG,CAAC;YACA,KAAI,CAAC,WAAW,GAAG,KAAK,CAAA;QAC5B,CAAC,CAAC,CACL,CAAA;QACD,IAAM,SAAS,GAAG,gBAAS,CACvB,WAAI,CAAC,MAAM,CAAC,MAAqC,EACjD,WAAW,CACd,CAAA;QACD,IAAI,CAAC,MAAM,GAAG,YAAK,CAAC,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,IAAI,CACnD,eAAG,CAAC,UAAC,EAAc;YACf,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAA;YAC7C,OAAO,KAAI,CAAC,YAAY,CAAA;QAC5B,CAAC,CAAC,EACF,iBAAK,EAAE,CACV,CAAA;IACL,CAAC;IAED,yBAAS,GAAT;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAA;IACjC,CAAC;IAEM,2BAAW,GAAlB;QACI,OAAO,IAAI,CAAC,YAAY,CAAA;IAC5B,CAAC;IAEM,gCAAgB,GAAvB,UAAwB,EAAc;QAClC,OAAO;YACH,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,GAAG,WAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YAC7C,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,GAAG,WAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YAC7C,MAAM,EAAE,EAAE,CAAC,MAAM;YACjB,IAAI,EAAE,EAAE,CAAC,IAAI;SACE,CAAA;IACvB,CAAC;IACL,YAAC;AAAD,CAAC,AAtDD,IAsDC;AAtDY,sBAAK","sourcesContent":[null]}},"error":null,"hash":"6d5bf06ceaf6e5e37c400dd571f54030","cacheData":{"env":{}}}