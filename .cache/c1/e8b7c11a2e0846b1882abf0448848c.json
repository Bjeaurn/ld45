{"id":"../node_modules/gine/dist/gine/image.js","dependencies":[{"name":"/Users/bjeaurn/Development/ld45/node_modules/gine/dist/gine/image.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/bjeaurn/Development/ld45/package.json","includedInParent":true,"mtime":1570228205000},{"name":"/Users/bjeaurn/Development/ld45/node_modules/gine/package.json","includedInParent":true,"mtime":1570228202000}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Asset = (function () {\n    function Asset(name, src) {\n        var _this = this;\n        this.type = Asset.ASSET;\n        this.imageLoaded = false;\n        this.image = new Image();\n        this.image.src = src;\n        this.image.onload = function () {\n            _this.imageLoaded = true;\n            _this.width = _this.image.width;\n            _this.height = _this.image.height;\n        };\n    }\n    Asset.prototype.draw = function () { };\n    Asset.prototype.update = function () { };\n    Asset.ASSET = 'ASSET';\n    Asset.IMAGE = 'IMAGE';\n    Asset.SPRITE = 'SPRITE';\n    return Asset;\n}());\nexports.Asset = Asset;\nvar ImageAsset = (function (_super) {\n    __extends(ImageAsset, _super);\n    function ImageAsset(name, src, options) {\n        var _this = _super.call(this, name, src) || this;\n        _this.type = Asset.IMAGE;\n        return _this;\n    }\n    ImageAsset.prototype.draw = function () { };\n    ImageAsset.prototype.update = function () { };\n    return ImageAsset;\n}(Asset));\nexports.ImageAsset = ImageAsset;\nvar SpriteAsset = (function (_super) {\n    __extends(SpriteAsset, _super);\n    function SpriteAsset(name, src, options) {\n        var _this = _super.call(this, name, src) || this;\n        _this.type = Asset.SPRITE;\n        _this.numberOfFrames = 1;\n        _this.ticksPerFrame = 0;\n        _this.currentTick = 0;\n        _this.currentSpriteIndex = 0;\n        _this.sizeX =\n            options && options.widthPerImage ? options.widthPerImage : 0;\n        _this.sizeY =\n            options && options.heightPerImage ? options.heightPerImage : 0;\n        _this.imagesPerRow =\n            options && options.imagesPerRow ? options.imagesPerRow : 0;\n        _this.numberOfFrames =\n            options && options.numberOfFrames ? options.numberOfFrames : 1;\n        _this.ticksPerFrame =\n            options && options.ticksPerFrame ? options.ticksPerFrame : 1;\n        _this.currentSpriteIndex =\n            options && options.frameIndex ? options.frameIndex : 0;\n        return _this;\n    }\n    SpriteAsset.prototype.draw = function () {\n        var row = Math.floor(this.currentSpriteIndex / this.imagesPerRow);\n        this.sourceX =\n            (this.currentSpriteIndex - this.imagesPerRow * row) * this.sizeX;\n        this.sourceY =\n            Math.floor(this.currentSpriteIndex / this.imagesPerRow) * this.sizeY;\n    };\n    SpriteAsset.prototype.calculatePerIndex = function (index) {\n        if (index > this.numberOfFrames) {\n            throw new Error(\"Index \" + index + \" is out of range of maximum frames (\" + this.numberOfFrames + \") for sprite\");\n        }\n        var row = Math.floor(index / this.imagesPerRow);\n        this.sourceX = (index - this.imagesPerRow * row) * this.sizeX;\n        this.sourceY = Math.floor(index / this.imagesPerRow) * this.sizeY;\n    };\n    SpriteAsset.prototype.update = function () {\n        this.currentTick++;\n        if (this.currentTick > this.ticksPerFrame) {\n            this.currentTick = 0;\n            this.currentSpriteIndex++;\n            if (this.currentSpriteIndex >= this.numberOfFrames) {\n                this.currentSpriteIndex = 0;\n            }\n        }\n    };\n    return SpriteAsset;\n}(Asset));\nexports.SpriteAsset = SpriteAsset;\nvar ImageOptions = (function () {\n    function ImageOptions() {\n    }\n    return ImageOptions;\n}());\nexports.ImageOptions = ImageOptions;\nvar SpriteOptions = (function (_super) {\n    __extends(SpriteOptions, _super);\n    function SpriteOptions(widthPerImage, heightPerImage, imagesPerRow, numberOfFrames, ticksPerFrame, frameIndex) {\n        var _this = _super.call(this) || this;\n        _this.widthPerImage = widthPerImage;\n        _this.heightPerImage = heightPerImage;\n        _this.imagesPerRow = imagesPerRow;\n        _this.numberOfFrames = numberOfFrames;\n        _this.ticksPerFrame = ticksPerFrame;\n        _this.frameIndex = frameIndex;\n        return _this;\n    }\n    return SpriteOptions;\n}(ImageOptions));\nexports.SpriteOptions = SpriteOptions;\n"},"sourceMaps":{"js":{"version":3,"file":"image.js","sourceRoot":"","sources":["../../src/gine/image.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"6779bd70338d75bdf226f952a76cc182","cacheData":{"env":{}}}